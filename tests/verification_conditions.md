# NijiLingo トーン差検証条件 v2.2

> 作成日: 2025-02-01
> 更新日: 2025-02-01
> 目的: API直叩きでトーン差100%達成を目指す

---

## 📋 検証フロー

```
┌─────────────────────────────────────────────────────────────┐
│  【Phase 1】ベンが自力で改善（5ラウンド）                   │
│  ├─ Round 1: 現在のプロンプト → テスト → 結果記録          │
│  ├─ Round 2: ベンが改修 → テスト → 結果記録                │
│  ├─ Round 3: ベンが改修 → テスト → 結果記録                │
│  ├─ Round 4: ベンが改修 → テスト → 結果記録                │
│  └─ Round 5: ベンが改修 → テスト → 結果記録                │
│                         ↓                                   │
│  【シュワちゃんレビュー①】                                 │
│  5回分まとめて投げてアドバイスもらう                        │
│                         ↓                                   │
│  【Phase 2】アドバイス反映して5ラウンド                     │
│  ├─ Round 6〜10                                             │
│                         ↓                                   │
│  【シュワちゃんレビュー②】                                 │
│  アドバイスもらう                                           │
│                         ↓                                   │
│  【繰り返し】100点達成まで                                  │
└─────────────────────────────────────────────────────────────┘
```

---

## 🔧 改修の参考資料

ベンが改修する時の参考：
- `tests/improved_prompt_v2.md`（シュワちゃん改善案）
- Few-shot例示の追加
- FORMAL 100%必須要素の明確化
- Chain-of-Thought（Step 1-5）
- 逆翻訳語尾ルールの具体化

---

## 🧪 テスト文（10個）

| # | テスト文 | 難易度カテゴリ |
|---|----------|----------------|
| 1 | これ、いいね | トーン差が出にくい |
| 2 | ちょっと聞きたいんだけど | 日本語特有の難しさ |
| 3 | また今度ね | 英語で差をつけにくい |
| 4 | それ、どういう意味？ | 意味が変わりやすい |
| 5 | お願いできる？ | 日本語特有の難しさ |
| 6 | まあ、いいか | トーン差が出にくい |
| 7 | 来週都合どう？ | 日本語特有の難しさ |
| 8 | そうなんだ | トーン差が出にくい |
| 9 | それ、本当？ | 意味が変わりやすい |
| 10 | またよろしく | 英語で差をつけにくい |

---

## 🤖 対象API

| API | 現状スコア | 特徴 |
|-----|-----------|------|
| llama-4-scout | 44% (4/9) | 速い、businessが得意、formalが苦手 |
| gpt-oss-120b | 78% (7/9) | 精度高い、casualが得意 |

---

## 🎯 トーン × レベル（9パターン）

| トーン | 0% | 50% | 100% |
|--------|-----|-----|------|
| casual | ✓ | ✓ | ✓ |
| business | ✓ | ✓ | ✓ |
| formal | ✓ | ✓ | ✓ |

---

## ✅ 評価基準

### 合格条件
- 0%/50%/100%で**全て異なる表現**が出れば合格（1点）
- 各トーン3点満点 → **合計9点満点**

### 各ラウンドの記録項目
1. 使用したプロンプト（変更点）
2. スコア（○/9）
3. 失敗したパターン
4. 具体的な出力例（失敗したやつ）
5. 次の改善ポイント

---

## 📝 プロンプト

### Round 1
**現在のアプリプロンプト**
- ソース: `~/Library/Mobile Documents/com~apple~CloudDocs/Desktop/NijiLingo/src/services/groq.ts`
- コピー: `tests/current_app_prompt.md`

### Round 2以降
**ベンが改修**（シュワちゃん改善案を参考に）
- 参考: `tests/improved_prompt_v2.md`

---

## 📤 シュワちゃんへの提出形式（5ラウンドごと）

```markdown
# NijiLingo API トーン差検証 - Phase X レビュー依頼

## 📋 実験概要
- 日付: YYYY-MM-DD
- テスト者: ベン
- 対象API: llama-4-scout, gpt-oss-120b

## 📊 結果サマリー
| モデル | Round1 | Round2 | Round3 | Round4 | Round5 |
|--------|--------|--------|--------|--------|--------|
| llama-4-scout | ?/9 | ?/9 | ?/9 | ?/9 | ?/9 |
| gpt-oss-120b | ?/9 | ?/9 | ?/9 | ?/9 | ?/9 |

## ① 各APIの得意・苦手（詳細）
...

## ② 改善が認められたプロンプト
...

## ③ 改善しなかったプロンプト
...

## ④ 現時点の最新プロンプト
...

## 🎯 依頼
100点達成のための改善アドバイスをください
```

---

## 📁 ファイル構成

```
nijilingo-ai-knowledge/tests/
├── verification_conditions.md  # この検証条件ファイル
├── tone_test_cases_v2.md       # テスト文詳細
├── current_app_prompt.md       # 現在のアプリプロンプト（Round 1）
├── improved_prompt_v2.md       # シュワちゃん改善案（参考）
└── results/                    # 検証結果を保存
    ├── phase1/
    │   ├── round1.md
    │   ├── round2.md
    │   ├── round3.md
    │   ├── round4.md
    │   ├── round5.md
    │   └── review_request.md   # シュワちゃんへの依頼
    ├── phase2/
    │   └── ...
    └── final_report.md         # 最終レポート（100点達成時）
```

---

## ⏭️ 次のステップ

1. [ ] API直叩きスクリプト作成
2. [ ] Round 1 実行（現在のプロンプト）
3. [ ] Round 2-5 ベンが改修しながら実行
4. [ ] Phase 1 結果をシュワちゃんに投げる
5. [ ] Phase 2以降繰り返し
6. [ ] 100点達成で最終レポート作成
