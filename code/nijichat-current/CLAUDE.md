# CLAUDE.md - NijiLingo プロジェクト指示

## 検証プロンプト

バグ検証を依頼されたら、以下のファイルを読んでその形式で実行すること：

- **"v1.7"** → `バグ検証関係/これ使うBUGPAK-VERIFYv1.7- 実行型検証.docx`
- **"v8.0"** → `バグ検証関係/BUGPAK V 8.0.docx`

### 使い方の例
- 「v1.7で検証して。症状：〜」と言われたら、v1.7のファイルを読んで全Step省略なしで実行
- 「v8.0で検証して」と言われたら、v8.0のファイルを読んで実行

## ⚠️ 検証時の絶対ルール

1. **省略禁止** — 全Stepを必ず出力すること。「同様に〜」で済ませない
2. **最終出力フォーマット必須** — プロンプトに書いてある出力形式を必ず最後に出す
3. **修正案だけ出すな** — 分析過程（構造マップ、状態マップ、タイミングマップ等）も全部見せる
4. **実装依頼プロンプト必須** — 最後に「Claude Code / Cursor 用：実装依頼プロンプト」を出す

理由：ユーザーが何をしてるか把握できないと本質を見失う。全部見せろ。

5. **「診断結果」ブロック必須** — 最後に以下の形式をそのまま出力しろ：
```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 🔍 BUGPAK-VERIFY v1.7 診断結果 ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
【TL;DR】
【Step 0 前提】
【変更リスト（タグ付き）】
【強制可視化マップ（Step A）】
【見つけた矛盾・問題（Step B 全列挙）】
【修正案（Step C diff）】
【テスト行列（Step 8.5 最低10）】
【実行すべきコマンド（Step 9.5）】
【判定】
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
【Claude Code / Cursor 用：実装依頼プロンプト】
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```
このフォーマットを省略するな。自分流にまとめるな。

6. **初心者向け説明必須** — 診断結果の【TL;DR】と【見つけた矛盾・問題】では：
   - コード初心者にもわかるように説明しろ
   - 「何が起きているか」を具体的に書け
   - 専門用語を使う場合は簡単な補足を入れろ
   - 例：「isTooSimilar関数（2つの文が似すぎてるか判定する関数）が...」

7. **検証結果はファイル出力** — 検証完了したら：
   - `/Users/takakikohei/clawd/memory/bugfix/YYYY-MM-DD_検証名.md` に保存しろ
   - フォーマットは綺麗なMarkdownで
   - 手順も省略せず全部書け
   - ベン（Clawdbot）がそのファイルを読んでベニーに渡す

## プロジェクト構成

**⚠️ 必ず `src/` 内のファイルを直接編集すること！**

- `src/App.tsx` — メインアプリコード（Vercelがビルドするのはこっち）
- `src/services/groq.ts` — 翻訳ロジック（Groq API）
- `バグ検証関係/` — デバッグプロンプト集

※ `App_日本語ベース.tsx` や `groq_日本語ベース.ts` は古い作業用ファイル。編集しないこと。

## リポジトリ

- GitHub: https://github.com/Kohei25-gif/NijiChat
- 本番: https://niji-chat.vercel.app/
