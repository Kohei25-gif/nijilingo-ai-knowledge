# 🤖 シュワちゃん分析依頼 - プロンプトv3レビュー

> きみちゃんSwarmエージェント用

---

## 📋 依頼概要

NijiLingoの翻訳プロンプトを改善した「v3」を作成しました。
Claude Codeに実装させる前に、シュワちゃんに以下の観点で分析・レビューをお願いします。

---

## 📁 分析対象ファイル

**GitHubリポジトリ:** https://github.com/Kohei25-gif/nijilingo-ai-knowledge

**対象ファイル:**
- `reference/claude_code_implementation_prompt.md` ← メイン（Claude Code用実装指示）
- `reference/improved_prompt_v3_complete.md` ← プロンプト全文
- `reference/プロンプトエンジニアリング8大テクニック.md` ← 参考資料

---

## 🔍 分析してほしい観点

### 観点1: プロンプト品質チェック

**チェックポイント:**
- [ ] CoT（段階的思考）が正しく構造化されているか
- [ ] Few-Shot例が十分か（現在4例）
- [ ] 例示のバランス（日→英、英→日、人名、一般名詞）
- [ ] 出力形式の指定が明確か
- [ ] Modality保持のルールが十分に強調されているか

**質問:**
- 例示は4つで足りる？増やすべき？
- 説明が冗長すぎる部分はある？
- 分かりにくい部分はある？

---

### 観点2: きみちゃん設計ガイドv2との整合性

**チェックポイント:**
- [ ] NER（名詞識別）の実装が設計ガイドと一致しているか
- [ ] ゼロ照応（主語補完）の実装が設計ガイドと一致しているか
- [ ] Modality識別の実装が設計ガイドと一致しているか
- [ ] 日英乖離対策が設計ガイドの提案と一致しているか

**質問:**
- 設計ガイドで提案されたけど、今回入ってないものはある？
- 設計ガイドと矛盾している部分はある？

---

### 観点3: コード修正案の妥当性

**チェックポイント:**
- [ ] 型定義の拡張は適切か（TranslationResult, PartialTranslationResult）
- [ ] 既存コードとの互換性は保たれるか
- [ ] checkAlignmentScore関数の閾値（0.3）は適切か
- [ ] エラーハンドリングは十分か

**質問:**
- 既存の動作を壊す可能性はある？
- 追加すべきガード処理はある？
- パフォーマンスへの影響は？

---

### 観点4: 抜け漏れチェック

**きみちゃん設計ガイドv2で提案されたもの:**

| 提案内容 | v3で対応 | 備考 |
|---------|---------|------|
| NERモジュール（ner.ts） | ⚠️ プロンプト内で対応 | 独立モジュールは未作成 |
| ゼロ照応モジュール（zeroAnaphora.ts） | ⚠️ プロンプト内で対応 | 独立モジュールは未作成 |
| Modalityモジュール（modality.ts） | ⚠️ プロンプト内で対応 | 独立モジュールは未作成 |
| promptBuilder.ts | ❌ 未対応 | テンプレート関数で代替 |
| alignment_score | ✅ 対応済み | checkAlignmentScore関数 |
| modality_check出力 | ✅ 対応済み | PARTIAL結果に追加 |

**質問:**
- 独立モジュール（ner.ts等）は必要？プロンプト内対応で十分？
- 他に抜けてるものはある？

---

### 観点5: 改善提案

**以下の観点で改善案があれば提案してください:**
- プロンプトの簡潔化（長すぎる部分）
- Few-Shot例の追加・修正
- エッジケースへの対応
- 将来的な拡張性

---

## 📊 期待する出力

シュワちゃんには以下の形式で出力してほしい：

```markdown
# シュワちゃん分析結果 - プロンプトv3

## 総合評価
⭐⭐⭐⭐☆（5段階）

## 観点1: プロンプト品質
### 良い点
- ...
### 改善点
- ...

## 観点2: 設計ガイドとの整合性
### 一致している点
- ...
### 不一致・抜け漏れ
- ...

## 観点3: コード修正案
### 問題なし
- ...
### 要修正
- ...

## 観点4: 抜け漏れ
### 対応済み
- ...
### 未対応（要検討）
- ...

## 観点5: 改善提案
### 優先度高
- ...
### 優先度中
- ...
### 優先度低
- ...

## 結論
実装に進んでOK / 修正が必要（〜を直してから）
```

---

## 📝 補足情報

**プロンプトv3で適用したテクニック:**
- CoT（Chain of Thought）- 段階的思考
- Few-Shot - 例示学習（4例）
- Role - 専門家の役割付与
- Structured Output - JSON形式出力

**今回やらなかったこと:**
- ToT（Tree of Thought）- 複数案比較
- Reflection - 自己レビュー
- Meta-Prompting - プロンプト自動最適化
- 独立TypeScriptモジュール化

---

## 🔗 参考資料

- きみちゃん設計ガイドv2: `reference/NijiLingo翻訳システム設計ガイド_v2.md`
- 8大テクニック: `reference/プロンプトエンジニアリング8大テクニック.md`
- Swarm分析結果: `reference/きみちゃんSwarm分析結果.md`

---

*Created by ベン ⚡ - 2026-01-29*
*For: シュワちゃん（きみちゃんSwarmエージェント）*
